import{_ as y,c as r,F as d,j as v,f as c,u as g,r as k,o as a,a as i,t as l,b as w,w as x,g as C,p as S,i as V}from"./index-BmrBjj-O.js";const b={class:"post-block archive"},A={key:0,class:"empty-block"},B={key:1,class:"archive-timeline"},L={class:"archive-year__title"},N={class:"archive-items"},P={class:"archive-date"},q={__name:"ArchiveView",setup(F){const p=g(),m=c(()=>String(p.query.q||"").trim().toLowerCase()),u=c(()=>(S.value,V())),h=c(()=>{const t=m.value;return t?u.value.filter(o=>o.title.toLowerCase().includes(t)):u.value});function f(t){return String(t||"").match(/^(\d{4})/)?.[1]||"未知"}const _=c(()=>{const t=new Map;for(const s of h.value){const e=f(s.date);t.has(e)||t.set(e,[]),t.get(e).push(s)}const o=Array.from(t.entries());return o.sort(([s],[e])=>s==="未知"?1:e==="未知"?-1:String(e).localeCompare(String(s))),o.map(([s,e])=>({year:s,posts:e}))});return(t,o)=>{const s=k("router-link");return a(),r("div",b,[_.value.length===0?(a(),r("div",A,"暂无文章")):(a(),r("div",B,[(a(!0),r(d,null,v(_.value,e=>(a(),r("section",{key:e.year,class:"archive-year"},[i("div",L,l(e.year),1),i("div",N,[(a(!0),r(d,null,v(e.posts,n=>(a(),r("div",{key:n.slug,class:"archive-item"},[i("span",P,l(n.date),1),w(s,{class:"archive-link",to:{name:"post",params:{slug:n.slug}}},{default:x(()=>[C(l(n.title),1)]),_:2},1032,["to"])]))),128))])]))),128))]))])}}},j=y(q,[["__scopeId","data-v-6db2006b"]]);export{j as default};
